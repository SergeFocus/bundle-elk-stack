series: trusty
services:
  elasticsearch:
    charm: "cs:trusty/elasticsearch-14"
    num_units: 2
    options:
      "apt-repository": "deb http://packages.elastic.co/elasticsearch/2.x/debian stable main"
      "firewall_enabled": false
  logstash:
    charm: "cs:~containers/trusty/logstash-1"
    num_units: 1
    constraints: "mem=2G"
  openjdk:
    charm: "cs:~kwmonroe/trusty/openjdk"
  kibana:
    expose: true
    charm: "cs:trusty/kibana-10"
    num_units: 1
relations:
  - - "openjdk:java"
    - "logstash:java"
  - - "kibana:rest"
    - "elasticsearch:client"
  - - "logstash:elasticsearch"
    - "elasticsearch:client"
